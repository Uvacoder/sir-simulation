{"id":"4dRf","dependencies":[{"name":"/Users/amila/Documents/Projects/sir-simulation/package.json","includedInParent":true,"mtime":1555436420710}],"generated":{"js":"function t(){this.running=!1,this.rate=10,this.cs,this.range,this.color,this.idToI,this.vacc,this.beta,this.gamma,this.interval,this.callback,this.current_inf,this.total_inf,this.day=1,this.init=function(t,i,s,h,n){this.cs=t,this.beta=i/this.rate,this.gamma=s/this.rate,this.vacc=h,this.callback=n,this.range=[0,this.max_pop()],this.color=d3.scale.pow().exponent(.33).domain(this.range).range([\"#ffffff\",\"#08306b\"]),this.init_cs()},this.start=function(t,i){this.running=!0;var s=this.cs[this.idToI.get(t)];s.inf+=i,s.sus>=i?s.sus-=i:s.rec-=i,this.current_inf=i,this.total_inf=i,this.day=0,this.interval=setInterval(this.update,1e3/this.rate,this),this.update(this)},this.update=function(t){var i;t.callback(t.current_inf,t.total_inf,t.day/t.rate);for(var s=0;s<t.cs.length;s++)(i=t.cs[s]).da=0,i.db=0;for(s=0;s<t.cs.length;s++)(i=t.cs[s]).inf>0&&i.step();for(s=0;s<t.cs.length;s++)t.cs[s].flush();t.day=t.day+1},this.max_pop=function(){for(var t=0,i=0;i<this.cs.length;i++)t=Math.max(this.cs[i].pop,t);return t},this.total_infected=function(){for(var t=0,i=0;i<this.cs.length;i++)t+=this.cs[i].inf;return t},this.init_cs=function(){var t;this.idToI=d3.map();for(var i=0;i<this.cs.length;i++)t=this.cs[i],this.idToI.set(t.id,i),t.rec=t.pop*s.vacc,t.sus=t.pop-t.rec,t.inf=0,t.init()},this.reset=function(){clearInterval(this.interval),this.callback(0,0,0),this.running=!1}}function i(t,i,h,n){this.i=t,this.id=i,this.pop=h,this.coms=n,this.color,this.sus,this.inf,this.rec,this.da,this.db,this.init=function(){var t=s.color(this.pop),i=d3.rgb(t);i.r=i.b,i.g=i.b,i.b=0,this.color=d3.scale.pow().exponent(.2).domain([0,1]).range([t,i.toString()]),d3.select(\"#s\".concat(this.id)).style(\"fill\",t)},this.step=function(){for(var t=0;t<this.coms.length;t++){var i=this.coms[t],h=s.idToI.get(+i.work_id),n=s.cs[h],a=+i.total,c=s.beta*this.inf*(a/this.pop)*(n.sus/n.pop);n.da+=c}this.da+=s.beta*this.inf*(this.sus/this.pop),this.db+=s.gamma*this.inf},this.flush=function(){this.sus+=-this.da,this.inf+=this.da-this.db,this.rec+=this.db,s.total_inf+=this.da,s.current_inf+=this.da-this.db,d3.select(\"#s\".concat(this.id)).style(\"fill\",this.color(this.inf/this.pop))}}var s=new t;"},"sourceMaps":{"js":{"mappings":[{"source":"simulation.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"simulation.js","name":"SirSimulation","original":{"line":1,"column":9},"generated":{"line":1,"column":9}},{"source":"simulation.js","name":"running","original":{"line":2,"column":7},"generated":{"line":1,"column":13}},{"source":"simulation.js","name":"running","original":{"line":2,"column":7},"generated":{"line":1,"column":18}},{"source":"simulation.js","original":{"line":2,"column":17},"generated":{"line":1,"column":27}},{"source":"simulation.js","name":"rate","original":{"line":3,"column":7},"generated":{"line":1,"column":29}},{"source":"simulation.js","name":"rate","original":{"line":3,"column":7},"generated":{"line":1,"column":34}},{"source":"simulation.js","original":{"line":3,"column":14},"generated":{"line":1,"column":39}},{"source":"simulation.js","name":"cs","original":{"line":5,"column":7},"generated":{"line":1,"column":42}},{"source":"simulation.js","name":"cs","original":{"line":5,"column":7},"generated":{"line":1,"column":47}},{"source":"simulation.js","name":"range","original":{"line":6,"column":7},"generated":{"line":1,"column":50}},{"source":"simulation.js","name":"range","original":{"line":6,"column":7},"generated":{"line":1,"column":55}},{"source":"simulation.js","name":"color","original":{"line":7,"column":7},"generated":{"line":1,"column":61}},{"source":"simulation.js","name":"color","original":{"line":7,"column":7},"generated":{"line":1,"column":66}},{"source":"simulation.js","name":"idToI","original":{"line":8,"column":7},"generated":{"line":1,"column":72}},{"source":"simulation.js","name":"idToI","original":{"line":8,"column":7},"generated":{"line":1,"column":77}},{"source":"simulation.js","name":"vacc","original":{"line":10,"column":7},"generated":{"line":1,"column":83}},{"source":"simulation.js","name":"vacc","original":{"line":10,"column":7},"generated":{"line":1,"column":88}},{"source":"simulation.js","name":"beta","original":{"line":11,"column":7},"generated":{"line":1,"column":93}},{"source":"simulation.js","name":"beta","original":{"line":11,"column":7},"generated":{"line":1,"column":98}},{"source":"simulation.js","name":"gamma","original":{"line":12,"column":7},"generated":{"line":1,"column":103}},{"source":"simulation.js","name":"gamma","original":{"line":12,"column":7},"generated":{"line":1,"column":108}},{"source":"simulation.js","name":"interval","original":{"line":14,"column":7},"generated":{"line":1,"column":114}},{"source":"simulation.js","name":"interval","original":{"line":14,"column":7},"generated":{"line":1,"column":119}},{"source":"simulation.js","name":"callback","original":{"line":16,"column":7},"generated":{"line":1,"column":128}},{"source":"simulation.js","name":"callback","original":{"line":16,"column":7},"generated":{"line":1,"column":133}},{"source":"simulation.js","name":"current_inf","original":{"line":17,"column":7},"generated":{"line":1,"column":142}},{"source":"simulation.js","name":"current_inf","original":{"line":17,"column":7},"generated":{"line":1,"column":147}},{"source":"simulation.js","name":"total_inf","original":{"line":18,"column":7},"generated":{"line":1,"column":159}},{"source":"simulation.js","name":"total_inf","original":{"line":18,"column":7},"generated":{"line":1,"column":164}},{"source":"simulation.js","name":"day","original":{"line":19,"column":7},"generated":{"line":1,"column":174}},{"source":"simulation.js","name":"day","original":{"line":19,"column":7},"generated":{"line":1,"column":179}},{"source":"simulation.js","original":{"line":19,"column":13},"generated":{"line":1,"column":183}},{"source":"simulation.js","name":"init","original":{"line":21,"column":7},"generated":{"line":1,"column":185}},{"source":"simulation.js","name":"init","original":{"line":21,"column":7},"generated":{"line":1,"column":190}},{"source":"simulation.js","original":{"line":21,"column":14},"generated":{"line":1,"column":195}},{"source":"simulation.js","name":"counties","original":{"line":21,"column":23},"generated":{"line":1,"column":204}},{"source":"simulation.js","name":"beta","original":{"line":21,"column":33},"generated":{"line":1,"column":206}},{"source":"simulation.js","name":"gamma","original":{"line":21,"column":39},"generated":{"line":1,"column":208}},{"source":"simulation.js","name":"vacc","original":{"line":21,"column":46},"generated":{"line":1,"column":210}},{"source":"simulation.js","name":"callback","original":{"line":21,"column":52},"generated":{"line":1,"column":212}},{"source":"simulation.js","name":"cs","original":{"line":22,"column":9},"generated":{"line":1,"column":215}},{"source":"simulation.js","name":"cs","original":{"line":22,"column":9},"generated":{"line":1,"column":220}},{"source":"simulation.js","name":"counties","original":{"line":22,"column":14},"generated":{"line":1,"column":223}},{"source":"simulation.js","name":"beta","original":{"line":23,"column":9},"generated":{"line":1,"column":225}},{"source":"simulation.js","name":"beta","original":{"line":23,"column":9},"generated":{"line":1,"column":230}},{"source":"simulation.js","name":"beta","original":{"line":23,"column":16},"generated":{"line":1,"column":235}},{"source":"simulation.js","original":{"line":23,"column":23},"generated":{"line":1,"column":237}},{"source":"simulation.js","name":"rate","original":{"line":23,"column":28},"generated":{"line":1,"column":242}},{"source":"simulation.js","name":"gamma","original":{"line":24,"column":9},"generated":{"line":1,"column":247}},{"source":"simulation.js","name":"gamma","original":{"line":24,"column":9},"generated":{"line":1,"column":252}},{"source":"simulation.js","name":"gamma","original":{"line":24,"column":17},"generated":{"line":1,"column":258}},{"source":"simulation.js","original":{"line":24,"column":25},"generated":{"line":1,"column":260}},{"source":"simulation.js","name":"rate","original":{"line":24,"column":30},"generated":{"line":1,"column":265}},{"source":"simulation.js","name":"vacc","original":{"line":25,"column":9},"generated":{"line":1,"column":270}},{"source":"simulation.js","name":"vacc","original":{"line":25,"column":9},"generated":{"line":1,"column":275}},{"source":"simulation.js","name":"vacc","original":{"line":25,"column":16},"generated":{"line":1,"column":280}},{"source":"simulation.js","name":"callback","original":{"line":26,"column":9},"generated":{"line":1,"column":282}},{"source":"simulation.js","name":"callback","original":{"line":26,"column":9},"generated":{"line":1,"column":287}},{"source":"simulation.js","name":"callback","original":{"line":26,"column":20},"generated":{"line":1,"column":296}},{"source":"simulation.js","name":"range","original":{"line":27,"column":9},"generated":{"line":1,"column":298}},{"source":"simulation.js","name":"range","original":{"line":27,"column":9},"generated":{"line":1,"column":303}},{"source":"simulation.js","original":{"line":27,"column":17},"generated":{"line":1,"column":309}},{"source":"simulation.js","original":{"line":27,"column":18},"generated":{"line":1,"column":310}},{"source":"simulation.js","original":{"line":27,"column":21},"generated":{"line":1,"column":312}},{"source":"simulation.js","name":"max_pop","original":{"line":27,"column":26},"generated":{"line":1,"column":317}},{"source":"simulation.js","name":"color","original":{"line":28,"column":9},"generated":{"line":1,"column":328}},{"source":"simulation.js","name":"color","original":{"line":28,"column":9},"generated":{"line":1,"column":333}},{"source":"simulation.js","name":"d3","original":{"line":28,"column":17},"generated":{"line":1,"column":339}},{"source":"simulation.js","name":"scale","original":{"line":28,"column":20},"generated":{"line":1,"column":342}},{"source":"simulation.js","name":"pow","original":{"line":29,"column":7},"generated":{"line":1,"column":348}},{"source":"simulation.js","name":"exponent","original":{"line":30,"column":7},"generated":{"line":1,"column":354}},{"source":"simulation.js","original":{"line":30,"column":16},"generated":{"line":1,"column":363}},{"source":"simulation.js","name":"domain","original":{"line":31,"column":7},"generated":{"line":1,"column":368}},{"source":"simulation.js","original":{"line":31,"column":14},"generated":{"line":1,"column":375}},{"source":"simulation.js","name":"range","original":{"line":31,"column":19},"generated":{"line":1,"column":380}},{"source":"simulation.js","name":"range","original":{"line":32,"column":7},"generated":{"line":1,"column":387}},{"source":"simulation.js","original":{"line":32,"column":13},"generated":{"line":1,"column":393}},{"source":"simulation.js","original":{"line":32,"column":14},"generated":{"line":1,"column":394}},{"source":"simulation.js","original":{"line":32,"column":25},"generated":{"line":1,"column":404}},{"source":"simulation.js","name":"init_cs","original":{"line":33,"column":9},"generated":{"line":1,"column":416}},{"source":"simulation.js","name":"init_cs","original":{"line":33,"column":9},"generated":{"line":1,"column":421}},{"source":"simulation.js","name":"start","original":{"line":36,"column":7},"generated":{"line":1,"column":432}},{"source":"simulation.js","name":"start","original":{"line":36,"column":7},"generated":{"line":1,"column":437}},{"source":"simulation.js","original":{"line":36,"column":15},"generated":{"line":1,"column":443}},{"source":"simulation.js","name":"cid","original":{"line":36,"column":24},"generated":{"line":1,"column":452}},{"source":"simulation.js","name":"n","original":{"line":36,"column":29},"generated":{"line":1,"column":454}},{"source":"simulation.js","name":"running","original":{"line":37,"column":9},"generated":{"line":1,"column":457}},{"source":"simulation.js","name":"running","original":{"line":37,"column":9},"generated":{"line":1,"column":462}},{"source":"simulation.js","original":{"line":37,"column":19},"generated":{"line":1,"column":471}},{"source":"simulation.js","name":"c","original":{"line":38,"column":10},"generated":{"line":1,"column":473}},{"source":"simulation.js","name":"c","original":{"line":38,"column":10},"generated":{"line":1,"column":477}},{"source":"simulation.js","original":{"line":38,"column":14},"generated":{"line":1,"column":479}},{"source":"simulation.js","name":"cs","original":{"line":38,"column":19},"generated":{"line":1,"column":484}},{"source":"simulation.js","original":{"line":38,"column":22},"generated":{"line":1,"column":487}},{"source":"simulation.js","name":"idToI","original":{"line":38,"column":27},"generated":{"line":1,"column":492}},{"source":"simulation.js","name":"get","original":{"line":38,"column":33},"generated":{"line":1,"column":498}},{"source":"simulation.js","name":"cid","original":{"line":38,"column":37},"generated":{"line":1,"column":502}},{"source":"simulation.js","name":"c","original":{"line":39,"column":4},"generated":{"line":1,"column":506}},{"source":"simulation.js","name":"inf","original":{"line":39,"column":6},"generated":{"line":1,"column":508}},{"source":"simulation.js","name":"n","original":{"line":39,"column":13},"generated":{"line":1,"column":513}},{"source":"simulation.js","name":"c","original":{"line":40,"column":8},"generated":{"line":1,"column":515}},{"source":"simulation.js","name":"sus","original":{"line":40,"column":10},"generated":{"line":1,"column":517}},{"source":"simulation.js","name":"n","original":{"line":40,"column":17},"generated":{"line":1,"column":522}},{"source":"simulation.js","name":"c","original":{"line":41,"column":6},"generated":{"line":1,"column":524}},{"source":"simulation.js","name":"sus","original":{"line":41,"column":8},"generated":{"line":1,"column":526}},{"source":"simulation.js","name":"n","original":{"line":41,"column":15},"generated":{"line":1,"column":531}},{"source":"simulation.js","name":"c","original":{"line":43,"column":6},"generated":{"line":1,"column":533}},{"source":"simulation.js","name":"rec","original":{"line":43,"column":8},"generated":{"line":1,"column":535}},{"source":"simulation.js","name":"n","original":{"line":43,"column":15},"generated":{"line":1,"column":540}},{"source":"simulation.js","name":"current_inf","original":{"line":45,"column":9},"generated":{"line":1,"column":542}},{"source":"simulation.js","name":"current_inf","original":{"line":45,"column":9},"generated":{"line":1,"column":547}},{"source":"simulation.js","name":"n","original":{"line":45,"column":23},"generated":{"line":1,"column":559}},{"source":"simulation.js","name":"total_inf","original":{"line":46,"column":9},"generated":{"line":1,"column":561}},{"source":"simulation.js","name":"total_inf","original":{"line":46,"column":9},"generated":{"line":1,"column":566}},{"source":"simulation.js","name":"n","original":{"line":46,"column":21},"generated":{"line":1,"column":576}},{"source":"simulation.js","name":"day","original":{"line":47,"column":9},"generated":{"line":1,"column":578}},{"source":"simulation.js","name":"day","original":{"line":47,"column":9},"generated":{"line":1,"column":583}},{"source":"simulation.js","original":{"line":47,"column":15},"generated":{"line":1,"column":587}},{"source":"simulation.js","name":"interval","original":{"line":48,"column":9},"generated":{"line":1,"column":589}},{"source":"simulation.js","name":"interval","original":{"line":48,"column":9},"generated":{"line":1,"column":594}},{"source":"simulation.js","name":"setInterval","original":{"line":48,"column":20},"generated":{"line":1,"column":603}},{"source":"simulation.js","original":{"line":48,"column":32},"generated":{"line":1,"column":615}},{"source":"simulation.js","name":"update","original":{"line":48,"column":37},"generated":{"line":1,"column":620}},{"source":"simulation.js","original":{"line":48,"column":45},"generated":{"line":1,"column":627}},{"source":"simulation.js","original":{"line":48,"column":52},"generated":{"line":1,"column":631}},{"source":"simulation.js","name":"rate","original":{"line":48,"column":57},"generated":{"line":1,"column":636}},{"source":"simulation.js","original":{"line":48,"column":63},"generated":{"line":1,"column":641}},{"source":"simulation.js","name":"update","original":{"line":49,"column":9},"generated":{"line":1,"column":647}},{"source":"simulation.js","name":"update","original":{"line":49,"column":9},"generated":{"line":1,"column":652}},{"source":"simulation.js","original":{"line":49,"column":16},"generated":{"line":1,"column":659}},{"source":"simulation.js","name":"update","original":{"line":52,"column":7},"generated":{"line":1,"column":666}},{"source":"simulation.js","name":"update","original":{"line":52,"column":7},"generated":{"line":1,"column":671}},{"source":"simulation.js","original":{"line":52,"column":16},"generated":{"line":1,"column":678}},{"source":"simulation.js","name":"that","original":{"line":52,"column":16},"generated":{"line":1,"column":687}},{"source":"simulation.js","name":"c","original":{"line":54,"column":8},"generated":{"line":1,"column":690}},{"source":"simulation.js","name":"c","original":{"line":54,"column":8},"generated":{"line":1,"column":694}},{"source":"simulation.js","name":"that","original":{"line":53,"column":4},"generated":{"line":1,"column":696}},{"source":"simulation.js","name":"callback","original":{"line":53,"column":9},"generated":{"line":1,"column":698}},{"source":"simulation.js","name":"that","original":{"line":53,"column":18},"generated":{"line":1,"column":707}},{"source":"simulation.js","name":"current_inf","original":{"line":53,"column":23},"generated":{"line":1,"column":709}},{"source":"simulation.js","name":"that","original":{"line":53,"column":36},"generated":{"line":1,"column":721}},{"source":"simulation.js","name":"total_inf","original":{"line":53,"column":41},"generated":{"line":1,"column":723}},{"source":"simulation.js","name":"that","original":{"line":53,"column":52},"generated":{"line":1,"column":733}},{"source":"simulation.js","name":"day","original":{"line":53,"column":57},"generated":{"line":1,"column":735}},{"source":"simulation.js","name":"that","original":{"line":53,"column":63},"generated":{"line":1,"column":739}},{"source":"simulation.js","name":"rate","original":{"line":53,"column":68},"generated":{"line":1,"column":741}},{"source":"simulation.js","original":{"line":55,"column":9},"generated":{"line":1,"column":747}},{"source":"simulation.js","original":{"line":55,"column":9},"generated":{"line":1,"column":751}},{"source":"simulation.js","name":"i","original":{"line":55,"column":13},"generated":{"line":1,"column":755}},{"source":"simulation.js","original":{"line":55,"column":17},"generated":{"line":1,"column":757}},{"source":"simulation.js","name":"i","original":{"line":55,"column":20},"generated":{"line":1,"column":759}},{"source":"simulation.js","name":"that","original":{"line":55,"column":24},"generated":{"line":1,"column":761}},{"source":"simulation.js","name":"cs","original":{"line":55,"column":29},"generated":{"line":1,"column":763}},{"source":"simulation.js","name":"length","original":{"line":55,"column":32},"generated":{"line":1,"column":766}},{"source":"simulation.js","name":"i","original":{"line":55,"column":40},"generated":{"line":1,"column":773}},{"source":"simulation.js","name":"c","original":{"line":56,"column":6},"generated":{"line":1,"column":778}},{"source":"simulation.js","name":"that","original":{"line":56,"column":10},"generated":{"line":1,"column":780}},{"source":"simulation.js","name":"cs","original":{"line":56,"column":15},"generated":{"line":1,"column":782}},{"source":"simulation.js","name":"i","original":{"line":56,"column":18},"generated":{"line":1,"column":785}},{"source":"simulation.js","name":"da","original":{"line":57,"column":8},"generated":{"line":1,"column":789}},{"source":"simulation.js","original":{"line":57,"column":13},"generated":{"line":1,"column":792}},{"source":"simulation.js","name":"c","original":{"line":58,"column":6},"generated":{"line":1,"column":794}},{"source":"simulation.js","name":"db","original":{"line":58,"column":8},"generated":{"line":1,"column":796}},{"source":"simulation.js","original":{"line":58,"column":13},"generated":{"line":1,"column":799}},{"source":"simulation.js","original":{"line":60,"column":9},"generated":{"line":1,"column":801}},{"source":"simulation.js","name":"i","original":{"line":60,"column":13},"generated":{"line":1,"column":805}},{"source":"simulation.js","original":{"line":60,"column":17},"generated":{"line":1,"column":807}},{"source":"simulation.js","name":"i","original":{"line":60,"column":20},"generated":{"line":1,"column":809}},{"source":"simulation.js","name":"that","original":{"line":60,"column":24},"generated":{"line":1,"column":811}},{"source":"simulation.js","name":"cs","original":{"line":60,"column":29},"generated":{"line":1,"column":813}},{"source":"simulation.js","name":"length","original":{"line":60,"column":32},"generated":{"line":1,"column":816}},{"source":"simulation.js","name":"i","original":{"line":60,"column":40},"generated":{"line":1,"column":823}},{"source":"simulation.js","name":"c","original":{"line":61,"column":6},"generated":{"line":1,"column":828}},{"source":"simulation.js","name":"that","original":{"line":61,"column":10},"generated":{"line":1,"column":830}},{"source":"simulation.js","name":"cs","original":{"line":61,"column":15},"generated":{"line":1,"column":832}},{"source":"simulation.js","name":"i","original":{"line":61,"column":18},"generated":{"line":1,"column":835}},{"source":"simulation.js","name":"inf","original":{"line":62,"column":12},"generated":{"line":1,"column":839}},{"source":"simulation.js","original":{"line":62,"column":18},"generated":{"line":1,"column":843}},{"source":"simulation.js","name":"c","original":{"line":63,"column":8},"generated":{"line":1,"column":846}},{"source":"simulation.js","name":"step","original":{"line":63,"column":10},"generated":{"line":1,"column":848}},{"source":"simulation.js","original":{"line":66,"column":9},"generated":{"line":1,"column":855}},{"source":"simulation.js","name":"i","original":{"line":66,"column":13},"generated":{"line":1,"column":859}},{"source":"simulation.js","original":{"line":66,"column":17},"generated":{"line":1,"column":861}},{"source":"simulation.js","name":"i","original":{"line":66,"column":20},"generated":{"line":1,"column":863}},{"source":"simulation.js","name":"that","original":{"line":66,"column":24},"generated":{"line":1,"column":865}},{"source":"simulation.js","name":"cs","original":{"line":66,"column":29},"generated":{"line":1,"column":867}},{"source":"simulation.js","name":"length","original":{"line":66,"column":32},"generated":{"line":1,"column":870}},{"source":"simulation.js","name":"i","original":{"line":66,"column":40},"generated":{"line":1,"column":877}},{"source":"simulation.js","name":"that","original":{"line":67,"column":6},"generated":{"line":1,"column":881}},{"source":"simulation.js","name":"cs","original":{"line":67,"column":11},"generated":{"line":1,"column":883}},{"source":"simulation.js","name":"i","original":{"line":67,"column":14},"generated":{"line":1,"column":886}},{"source":"simulation.js","name":"flush","original":{"line":67,"column":17},"generated":{"line":1,"column":889}},{"source":"simulation.js","name":"that","original":{"line":70,"column":4},"generated":{"line":1,"column":897}},{"source":"simulation.js","name":"day","original":{"line":70,"column":9},"generated":{"line":1,"column":899}},{"source":"simulation.js","name":"that","original":{"line":70,"column":15},"generated":{"line":1,"column":903}},{"source":"simulation.js","name":"day","original":{"line":70,"column":20},"generated":{"line":1,"column":905}},{"source":"simulation.js","original":{"line":70,"column":26},"generated":{"line":1,"column":909}},{"source":"simulation.js","name":"max_pop","original":{"line":73,"column":7},"generated":{"line":1,"column":912}},{"source":"simulation.js","name":"max_pop","original":{"line":73,"column":7},"generated":{"line":1,"column":917}},{"source":"simulation.js","original":{"line":73,"column":17},"generated":{"line":1,"column":925}},{"source":"simulation.js","original":{"line":75,"column":9},"generated":{"line":1,"column":936}},{"source":"simulation.js","name":"max","original":{"line":74,"column":8},"generated":{"line":1,"column":940}},{"source":"simulation.js","name":"max","original":{"line":74,"column":8},"generated":{"line":1,"column":944}},{"source":"simulation.js","original":{"line":74,"column":14},"generated":{"line":1,"column":946}},{"source":"simulation.js","name":"i","original":{"line":75,"column":13},"generated":{"line":1,"column":948}},{"source":"simulation.js","original":{"line":75,"column":17},"generated":{"line":1,"column":950}},{"source":"simulation.js","name":"i","original":{"line":75,"column":20},"generated":{"line":1,"column":952}},{"source":"simulation.js","original":{"line":75,"column":24},"generated":{"line":1,"column":954}},{"source":"simulation.js","name":"cs","original":{"line":75,"column":29},"generated":{"line":1,"column":959}},{"source":"simulation.js","name":"length","original":{"line":75,"column":32},"generated":{"line":1,"column":962}},{"source":"simulation.js","name":"i","original":{"line":75,"column":40},"generated":{"line":1,"column":969}},{"source":"simulation.js","name":"max","original":{"line":76,"column":6},"generated":{"line":1,"column":973}},{"source":"simulation.js","name":"Math","original":{"line":76,"column":12},"generated":{"line":1,"column":975}},{"source":"simulation.js","name":"max","original":{"line":76,"column":17},"generated":{"line":1,"column":980}},{"source":"simulation.js","original":{"line":76,"column":21},"generated":{"line":1,"column":984}},{"source":"simulation.js","name":"cs","original":{"line":76,"column":26},"generated":{"line":1,"column":989}},{"source":"simulation.js","name":"i","original":{"line":76,"column":29},"generated":{"line":1,"column":992}},{"source":"simulation.js","name":"pop","original":{"line":76,"column":32},"generated":{"line":1,"column":995}},{"source":"simulation.js","name":"max","original":{"line":76,"column":37},"generated":{"line":1,"column":999}},{"source":"simulation.js","name":"max","original":{"line":78,"column":11},"generated":{"line":1,"column":1002}},{"source":"simulation.js","name":"max","original":{"line":78,"column":11},"generated":{"line":1,"column":1009}},{"source":"simulation.js","name":"total_infected","original":{"line":81,"column":7},"generated":{"line":1,"column":1012}},{"source":"simulation.js","name":"total_infected","original":{"line":81,"column":7},"generated":{"line":1,"column":1017}},{"source":"simulation.js","original":{"line":81,"column":24},"generated":{"line":1,"column":1032}},{"source":"simulation.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1043}},{"source":"simulation.js","name":"total","original":{"line":82,"column":8},"generated":{"line":1,"column":1047}},{"source":"simulation.js","name":"total","original":{"line":82,"column":8},"generated":{"line":1,"column":1051}},{"source":"simulation.js","original":{"line":82,"column":16},"generated":{"line":1,"column":1053}},{"source":"simulation.js","name":"i","original":{"line":83,"column":13},"generated":{"line":1,"column":1055}},{"source":"simulation.js","original":{"line":83,"column":17},"generated":{"line":1,"column":1057}},{"source":"simulation.js","name":"i","original":{"line":83,"column":20},"generated":{"line":1,"column":1059}},{"source":"simulation.js","original":{"line":83,"column":24},"generated":{"line":1,"column":1061}},{"source":"simulation.js","name":"cs","original":{"line":83,"column":29},"generated":{"line":1,"column":1066}},{"source":"simulation.js","name":"length","original":{"line":83,"column":32},"generated":{"line":1,"column":1069}},{"source":"simulation.js","name":"i","original":{"line":83,"column":40},"generated":{"line":1,"column":1076}},{"source":"simulation.js","name":"total","original":{"line":84,"column":6},"generated":{"line":1,"column":1080}},{"source":"simulation.js","original":{"line":84,"column":15},"generated":{"line":1,"column":1083}},{"source":"simulation.js","name":"cs","original":{"line":84,"column":20},"generated":{"line":1,"column":1088}},{"source":"simulation.js","name":"i","original":{"line":84,"column":23},"generated":{"line":1,"column":1091}},{"source":"simulation.js","name":"inf","original":{"line":84,"column":26},"generated":{"line":1,"column":1094}},{"source":"simulation.js","name":"total","original":{"line":86,"column":11},"generated":{"line":1,"column":1098}},{"source":"simulation.js","name":"total","original":{"line":86,"column":11},"generated":{"line":1,"column":1105}},{"source":"simulation.js","name":"init_cs","original":{"line":89,"column":7},"generated":{"line":1,"column":1108}},{"source":"simulation.js","name":"init_cs","original":{"line":89,"column":7},"generated":{"line":1,"column":1113}},{"source":"simulation.js","original":{"line":89,"column":17},"generated":{"line":1,"column":1121}},{"source":"simulation.js","name":"c","original":{"line":91,"column":8},"generated":{"line":1,"column":1132}},{"source":"simulation.js","name":"c","original":{"line":91,"column":8},"generated":{"line":1,"column":1136}},{"source":"simulation.js","name":"idToI","original":{"line":90,"column":9},"generated":{"line":1,"column":1138}},{"source":"simulation.js","name":"idToI","original":{"line":90,"column":9},"generated":{"line":1,"column":1143}},{"source":"simulation.js","name":"d3","original":{"line":90,"column":17},"generated":{"line":1,"column":1149}},{"source":"simulation.js","name":"map","original":{"line":90,"column":20},"generated":{"line":1,"column":1152}},{"source":"simulation.js","original":{"line":92,"column":9},"generated":{"line":1,"column":1158}},{"source":"simulation.js","original":{"line":92,"column":9},"generated":{"line":1,"column":1162}},{"source":"simulation.js","name":"i","original":{"line":92,"column":13},"generated":{"line":1,"column":1166}},{"source":"simulation.js","original":{"line":92,"column":17},"generated":{"line":1,"column":1168}},{"source":"simulation.js","name":"i","original":{"line":92,"column":20},"generated":{"line":1,"column":1170}},{"source":"simulation.js","original":{"line":92,"column":24},"generated":{"line":1,"column":1172}},{"source":"simulation.js","name":"cs","original":{"line":92,"column":29},"generated":{"line":1,"column":1177}},{"source":"simulation.js","name":"length","original":{"line":92,"column":32},"generated":{"line":1,"column":1180}},{"source":"simulation.js","name":"i","original":{"line":92,"column":40},"generated":{"line":1,"column":1187}},{"source":"simulation.js","name":"c","original":{"line":93,"column":6},"generated":{"line":1,"column":1191}},{"source":"simulation.js","original":{"line":93,"column":10},"generated":{"line":1,"column":1193}},{"source":"simulation.js","name":"cs","original":{"line":93,"column":15},"generated":{"line":1,"column":1198}},{"source":"simulation.js","name":"i","original":{"line":93,"column":18},"generated":{"line":1,"column":1201}},{"source":"simulation.js","name":"idToI","original":{"line":94,"column":11},"generated":{"line":1,"column":1204}},{"source":"simulation.js","name":"idToI","original":{"line":94,"column":11},"generated":{"line":1,"column":1209}},{"source":"simulation.js","name":"set","original":{"line":94,"column":17},"generated":{"line":1,"column":1215}},{"source":"simulation.js","name":"c","original":{"line":94,"column":21},"generated":{"line":1,"column":1219}},{"source":"simulation.js","name":"id","original":{"line":94,"column":23},"generated":{"line":1,"column":1221}},{"source":"simulation.js","name":"i","original":{"line":94,"column":27},"generated":{"line":1,"column":1224}},{"source":"simulation.js","name":"c","original":{"line":95,"column":6},"generated":{"line":1,"column":1227}},{"source":"simulation.js","name":"rec","original":{"line":95,"column":8},"generated":{"line":1,"column":1229}},{"source":"simulation.js","name":"c","original":{"line":95,"column":14},"generated":{"line":1,"column":1233}},{"source":"simulation.js","name":"pop","original":{"line":95,"column":16},"generated":{"line":1,"column":1235}},{"source":"simulation.js","name":"sim","original":{"line":95,"column":22},"generated":{"line":1,"column":1239}},{"source":"simulation.js","name":"vacc","original":{"line":95,"column":26},"generated":{"line":1,"column":1241}},{"source":"simulation.js","name":"c","original":{"line":96,"column":6},"generated":{"line":1,"column":1246}},{"source":"simulation.js","name":"sus","original":{"line":96,"column":8},"generated":{"line":1,"column":1248}},{"source":"simulation.js","name":"c","original":{"line":96,"column":14},"generated":{"line":1,"column":1252}},{"source":"simulation.js","name":"pop","original":{"line":96,"column":16},"generated":{"line":1,"column":1254}},{"source":"simulation.js","name":"c","original":{"line":96,"column":22},"generated":{"line":1,"column":1258}},{"source":"simulation.js","name":"rec","original":{"line":96,"column":24},"generated":{"line":1,"column":1260}},{"source":"simulation.js","name":"c","original":{"line":97,"column":6},"generated":{"line":1,"column":1264}},{"source":"simulation.js","name":"inf","original":{"line":97,"column":8},"generated":{"line":1,"column":1266}},{"source":"simulation.js","original":{"line":97,"column":14},"generated":{"line":1,"column":1270}},{"source":"simulation.js","name":"c","original":{"line":98,"column":6},"generated":{"line":1,"column":1272}},{"source":"simulation.js","name":"init","original":{"line":98,"column":8},"generated":{"line":1,"column":1274}},{"source":"simulation.js","name":"reset","original":{"line":102,"column":7},"generated":{"line":1,"column":1282}},{"source":"simulation.js","name":"reset","original":{"line":102,"column":7},"generated":{"line":1,"column":1287}},{"source":"simulation.js","original":{"line":102,"column":15},"generated":{"line":1,"column":1293}},{"source":"simulation.js","name":"clearInterval","original":{"line":103,"column":4},"generated":{"line":1,"column":1304}},{"source":"simulation.js","original":{"line":103,"column":18},"generated":{"line":1,"column":1318}},{"source":"simulation.js","name":"interval","original":{"line":103,"column":23},"generated":{"line":1,"column":1323}},{"source":"simulation.js","name":"callback","original":{"line":104,"column":9},"generated":{"line":1,"column":1333}},{"source":"simulation.js","name":"callback","original":{"line":104,"column":9},"generated":{"line":1,"column":1338}},{"source":"simulation.js","original":{"line":104,"column":18},"generated":{"line":1,"column":1347}},{"source":"simulation.js","original":{"line":104,"column":21},"generated":{"line":1,"column":1349}},{"source":"simulation.js","original":{"line":104,"column":24},"generated":{"line":1,"column":1351}},{"source":"simulation.js","name":"running","original":{"line":105,"column":9},"generated":{"line":1,"column":1354}},{"source":"simulation.js","name":"running","original":{"line":105,"column":9},"generated":{"line":1,"column":1359}},{"source":"simulation.js","original":{"line":105,"column":19},"generated":{"line":1,"column":1368}},{"source":"simulation.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1371}},{"source":"simulation.js","name":"County","original":{"line":109,"column":9},"generated":{"line":1,"column":1380}},{"source":"simulation.js","name":"i","original":{"line":109,"column":16},"generated":{"line":1,"column":1382}},{"source":"simulation.js","name":"id","original":{"line":109,"column":19},"generated":{"line":1,"column":1384}},{"source":"simulation.js","name":"pop","original":{"line":109,"column":23},"generated":{"line":1,"column":1386}},{"source":"simulation.js","name":"coms","original":{"line":109,"column":28},"generated":{"line":1,"column":1388}},{"source":"simulation.js","name":"i","original":{"line":110,"column":7},"generated":{"line":1,"column":1391}},{"source":"simulation.js","name":"i","original":{"line":110,"column":7},"generated":{"line":1,"column":1396}},{"source":"simulation.js","name":"i","original":{"line":110,"column":11},"generated":{"line":1,"column":1398}},{"source":"simulation.js","name":"id","original":{"line":111,"column":7},"generated":{"line":1,"column":1400}},{"source":"simulation.js","name":"id","original":{"line":111,"column":7},"generated":{"line":1,"column":1405}},{"source":"simulation.js","name":"id","original":{"line":111,"column":12},"generated":{"line":1,"column":1408}},{"source":"simulation.js","name":"pop","original":{"line":112,"column":7},"generated":{"line":1,"column":1410}},{"source":"simulation.js","name":"pop","original":{"line":112,"column":7},"generated":{"line":1,"column":1415}},{"source":"simulation.js","name":"pop","original":{"line":112,"column":13},"generated":{"line":1,"column":1419}},{"source":"simulation.js","name":"coms","original":{"line":113,"column":7},"generated":{"line":1,"column":1421}},{"source":"simulation.js","name":"coms","original":{"line":113,"column":7},"generated":{"line":1,"column":1426}},{"source":"simulation.js","name":"coms","original":{"line":113,"column":14},"generated":{"line":1,"column":1431}},{"source":"simulation.js","name":"color","original":{"line":115,"column":7},"generated":{"line":1,"column":1433}},{"source":"simulation.js","name":"color","original":{"line":115,"column":7},"generated":{"line":1,"column":1438}},{"source":"simulation.js","name":"sus","original":{"line":117,"column":7},"generated":{"line":1,"column":1444}},{"source":"simulation.js","name":"sus","original":{"line":117,"column":7},"generated":{"line":1,"column":1449}},{"source":"simulation.js","name":"inf","original":{"line":118,"column":7},"generated":{"line":1,"column":1453}},{"source":"simulation.js","name":"inf","original":{"line":118,"column":7},"generated":{"line":1,"column":1458}},{"source":"simulation.js","name":"rec","original":{"line":119,"column":7},"generated":{"line":1,"column":1462}},{"source":"simulation.js","name":"rec","original":{"line":119,"column":7},"generated":{"line":1,"column":1467}},{"source":"simulation.js","name":"da","original":{"line":121,"column":7},"generated":{"line":1,"column":1471}},{"source":"simulation.js","name":"da","original":{"line":121,"column":7},"generated":{"line":1,"column":1476}},{"source":"simulation.js","name":"db","original":{"line":122,"column":7},"generated":{"line":1,"column":1479}},{"source":"simulation.js","name":"db","original":{"line":122,"column":7},"generated":{"line":1,"column":1484}},{"source":"simulation.js","name":"init","original":{"line":124,"column":7},"generated":{"line":1,"column":1487}},{"source":"simulation.js","name":"init","original":{"line":124,"column":7},"generated":{"line":1,"column":1492}},{"source":"simulation.js","original":{"line":124,"column":14},"generated":{"line":1,"column":1497}},{"source":"simulation.js","name":"c","original":{"line":125,"column":10},"generated":{"line":1,"column":1508}},{"source":"simulation.js","name":"c","original":{"line":125,"column":10},"generated":{"line":1,"column":1512}},{"source":"simulation.js","name":"sim","original":{"line":125,"column":14},"generated":{"line":1,"column":1514}},{"source":"simulation.js","name":"color","original":{"line":125,"column":18},"generated":{"line":1,"column":1516}},{"source":"simulation.js","original":{"line":125,"column":24},"generated":{"line":1,"column":1522}},{"source":"simulation.js","name":"pop","original":{"line":125,"column":29},"generated":{"line":1,"column":1527}},{"source":"simulation.js","name":"d","original":{"line":126,"column":10},"generated":{"line":1,"column":1532}},{"source":"simulation.js","name":"d3","original":{"line":126,"column":14},"generated":{"line":1,"column":1534}},{"source":"simulation.js","name":"rgb","original":{"line":126,"column":17},"generated":{"line":1,"column":1537}},{"source":"simulation.js","name":"c","original":{"line":126,"column":21},"generated":{"line":1,"column":1541}},{"source":"simulation.js","name":"d","original":{"line":127,"column":4},"generated":{"line":1,"column":1544}},{"source":"simulation.js","name":"r","original":{"line":127,"column":6},"generated":{"line":1,"column":1546}},{"source":"simulation.js","name":"d","original":{"line":127,"column":10},"generated":{"line":1,"column":1548}},{"source":"simulation.js","name":"b","original":{"line":127,"column":12},"generated":{"line":1,"column":1550}},{"source":"simulation.js","name":"d","original":{"line":128,"column":4},"generated":{"line":1,"column":1552}},{"source":"simulation.js","name":"g","original":{"line":128,"column":6},"generated":{"line":1,"column":1554}},{"source":"simulation.js","name":"d","original":{"line":128,"column":10},"generated":{"line":1,"column":1556}},{"source":"simulation.js","name":"b","original":{"line":128,"column":12},"generated":{"line":1,"column":1558}},{"source":"simulation.js","name":"d","original":{"line":129,"column":4},"generated":{"line":1,"column":1560}},{"source":"simulation.js","name":"b","original":{"line":129,"column":6},"generated":{"line":1,"column":1562}},{"source":"simulation.js","original":{"line":129,"column":10},"generated":{"line":1,"column":1564}},{"source":"simulation.js","name":"color","original":{"line":130,"column":9},"generated":{"line":1,"column":1566}},{"source":"simulation.js","name":"color","original":{"line":130,"column":9},"generated":{"line":1,"column":1571}},{"source":"simulation.js","name":"d3","original":{"line":130,"column":17},"generated":{"line":1,"column":1577}},{"source":"simulation.js","name":"scale","original":{"line":130,"column":20},"generated":{"line":1,"column":1580}},{"source":"simulation.js","name":"pow","original":{"line":131,"column":7},"generated":{"line":1,"column":1586}},{"source":"simulation.js","name":"exponent","original":{"line":132,"column":7},"generated":{"line":1,"column":1592}},{"source":"simulation.js","original":{"line":132,"column":16},"generated":{"line":1,"column":1601}},{"source":"simulation.js","name":"domain","original":{"line":133,"column":7},"generated":{"line":1,"column":1605}},{"source":"simulation.js","original":{"line":133,"column":14},"generated":{"line":1,"column":1612}},{"source":"simulation.js","original":{"line":133,"column":15},"generated":{"line":1,"column":1613}},{"source":"simulation.js","original":{"line":133,"column":18},"generated":{"line":1,"column":1615}},{"source":"simulation.js","name":"range","original":{"line":134,"column":7},"generated":{"line":1,"column":1619}},{"source":"simulation.js","original":{"line":134,"column":13},"generated":{"line":1,"column":1625}},{"source":"simulation.js","name":"c","original":{"line":134,"column":14},"generated":{"line":1,"column":1626}},{"source":"simulation.js","name":"d","original":{"line":134,"column":17},"generated":{"line":1,"column":1628}},{"source":"simulation.js","name":"toString","original":{"line":134,"column":19},"generated":{"line":1,"column":1630}},{"source":"simulation.js","name":"d3","original":{"line":135,"column":4},"generated":{"line":1,"column":1643}},{"source":"simulation.js","name":"select","original":{"line":135,"column":7},"generated":{"line":1,"column":1646}},{"source":"simulation.js","original":{"line":135,"column":19},"generated":{"line":1,"column":1653}},{"source":"simulation.js","original":{"line":135,"column":19},"generated":{"line":1,"column":1658}},{"source":"simulation.js","original":{"line":135,"column":19},"generated":{"line":1,"column":1665}},{"source":"simulation.js","name":"id","original":{"line":135,"column":24},"generated":{"line":1,"column":1670}},{"source":"simulation.js","name":"style","original":{"line":135,"column":30},"generated":{"line":1,"column":1675}},{"source":"simulation.js","original":{"line":135,"column":36},"generated":{"line":1,"column":1681}},{"source":"simulation.js","name":"c","original":{"line":135,"column":44},"generated":{"line":1,"column":1688}},{"source":"simulation.js","name":"step","original":{"line":138,"column":7},"generated":{"line":1,"column":1692}},{"source":"simulation.js","name":"step","original":{"line":138,"column":7},"generated":{"line":1,"column":1697}},{"source":"simulation.js","original":{"line":138,"column":14},"generated":{"line":1,"column":1702}},{"source":"simulation.js","original":{"line":139,"column":9},"generated":{"line":1,"column":1713}},{"source":"simulation.js","original":{"line":139,"column":9},"generated":{"line":1,"column":1717}},{"source":"simulation.js","name":"i","original":{"line":139,"column":13},"generated":{"line":1,"column":1721}},{"source":"simulation.js","original":{"line":139,"column":17},"generated":{"line":1,"column":1723}},{"source":"simulation.js","name":"i","original":{"line":139,"column":20},"generated":{"line":1,"column":1725}},{"source":"simulation.js","original":{"line":139,"column":24},"generated":{"line":1,"column":1727}},{"source":"simulation.js","name":"coms","original":{"line":139,"column":29},"generated":{"line":1,"column":1732}},{"source":"simulation.js","name":"length","original":{"line":139,"column":34},"generated":{"line":1,"column":1737}},{"source":"simulation.js","name":"i","original":{"line":139,"column":42},"generated":{"line":1,"column":1744}},{"source":"simulation.js","original":{"line":139,"column":47},"generated":{"line":1,"column":1748}},{"source":"simulation.js","name":"com","original":{"line":140,"column":12},"generated":{"line":1,"column":1749}},{"source":"simulation.js","name":"com","original":{"line":140,"column":12},"generated":{"line":1,"column":1753}},{"source":"simulation.js","original":{"line":140,"column":18},"generated":{"line":1,"column":1755}},{"source":"simulation.js","name":"coms","original":{"line":140,"column":23},"generated":{"line":1,"column":1760}},{"source":"simulation.js","name":"i","original":{"line":140,"column":28},"generated":{"line":1,"column":1765}},{"source":"simulation.js","name":"ci","original":{"line":141,"column":12},"generated":{"line":1,"column":1768}},{"source":"simulation.js","name":"sim","original":{"line":141,"column":17},"generated":{"line":1,"column":1770}},{"source":"simulation.js","name":"idToI","original":{"line":141,"column":21},"generated":{"line":1,"column":1772}},{"source":"simulation.js","name":"get","original":{"line":141,"column":27},"generated":{"line":1,"column":1778}},{"source":"simulation.js","name":"com","original":{"line":141,"column":32},"generated":{"line":1,"column":1783}},{"source":"simulation.js","name":"work_id","original":{"line":141,"column":36},"generated":{"line":1,"column":1785}},{"source":"simulation.js","name":"c","original":{"line":142,"column":12},"generated":{"line":1,"column":1794}},{"source":"simulation.js","name":"sim","original":{"line":142,"column":16},"generated":{"line":1,"column":1796}},{"source":"simulation.js","name":"cs","original":{"line":142,"column":20},"generated":{"line":1,"column":1798}},{"source":"simulation.js","name":"ci","original":{"line":142,"column":23},"generated":{"line":1,"column":1801}},{"source":"simulation.js","name":"n","original":{"line":143,"column":12},"generated":{"line":1,"column":1804}},{"source":"simulation.js","name":"com","original":{"line":143,"column":17},"generated":{"line":1,"column":1807}},{"source":"simulation.js","name":"total","original":{"line":143,"column":21},"generated":{"line":1,"column":1809}},{"source":"simulation.js","name":"dx","original":{"line":144,"column":12},"generated":{"line":1,"column":1815}},{"source":"simulation.js","name":"sim","original":{"line":144,"column":17},"generated":{"line":1,"column":1817}},{"source":"simulation.js","name":"beta","original":{"line":144,"column":21},"generated":{"line":1,"column":1819}},{"source":"simulation.js","original":{"line":144,"column":28},"generated":{"line":1,"column":1824}},{"source":"simulation.js","name":"inf","original":{"line":144,"column":33},"generated":{"line":1,"column":1829}},{"source":"simulation.js","name":"n","original":{"line":144,"column":40},"generated":{"line":1,"column":1834}},{"source":"simulation.js","original":{"line":144,"column":44},"generated":{"line":1,"column":1836}},{"source":"simulation.js","name":"pop","original":{"line":144,"column":49},"generated":{"line":1,"column":1841}},{"source":"simulation.js","name":"c","original":{"line":144,"column":57},"generated":{"line":1,"column":1847}},{"source":"simulation.js","name":"sus","original":{"line":144,"column":59},"generated":{"line":1,"column":1849}},{"source":"simulation.js","name":"c","original":{"line":144,"column":65},"generated":{"line":1,"column":1853}},{"source":"simulation.js","name":"pop","original":{"line":144,"column":67},"generated":{"line":1,"column":1855}},{"source":"simulation.js","name":"c","original":{"line":145,"column":6},"generated":{"line":1,"column":1860}},{"source":"simulation.js","name":"da","original":{"line":145,"column":8},"generated":{"line":1,"column":1862}},{"source":"simulation.js","name":"dx","original":{"line":145,"column":14},"generated":{"line":1,"column":1866}},{"source":"simulation.js","name":"da","original":{"line":147,"column":9},"generated":{"line":1,"column":1868}},{"source":"simulation.js","name":"da","original":{"line":147,"column":9},"generated":{"line":1,"column":1873}},{"source":"simulation.js","name":"sim","original":{"line":147,"column":15},"generated":{"line":1,"column":1877}},{"source":"simulation.js","name":"beta","original":{"line":147,"column":19},"generated":{"line":1,"column":1879}},{"source":"simulation.js","original":{"line":147,"column":26},"generated":{"line":1,"column":1884}},{"source":"simulation.js","name":"inf","original":{"line":147,"column":31},"generated":{"line":1,"column":1889}},{"source":"simulation.js","original":{"line":147,"column":38},"generated":{"line":1,"column":1894}},{"source":"simulation.js","name":"sus","original":{"line":147,"column":43},"generated":{"line":1,"column":1899}},{"source":"simulation.js","original":{"line":147,"column":49},"generated":{"line":1,"column":1903}},{"source":"simulation.js","name":"pop","original":{"line":147,"column":54},"generated":{"line":1,"column":1908}},{"source":"simulation.js","name":"db","original":{"line":148,"column":9},"generated":{"line":1,"column":1913}},{"source":"simulation.js","name":"db","original":{"line":148,"column":9},"generated":{"line":1,"column":1918}},{"source":"simulation.js","name":"sim","original":{"line":148,"column":15},"generated":{"line":1,"column":1922}},{"source":"simulation.js","name":"gamma","original":{"line":148,"column":19},"generated":{"line":1,"column":1924}},{"source":"simulation.js","original":{"line":148,"column":27},"generated":{"line":1,"column":1930}},{"source":"simulation.js","name":"inf","original":{"line":148,"column":32},"generated":{"line":1,"column":1935}},{"source":"simulation.js","name":"flush","original":{"line":151,"column":7},"generated":{"line":1,"column":1940}},{"source":"simulation.js","name":"flush","original":{"line":151,"column":7},"generated":{"line":1,"column":1945}},{"source":"simulation.js","original":{"line":151,"column":15},"generated":{"line":1,"column":1951}},{"source":"simulation.js","name":"sus","original":{"line":152,"column":9},"generated":{"line":1,"column":1962}},{"source":"simulation.js","name":"sus","original":{"line":152,"column":9},"generated":{"line":1,"column":1967}},{"source":"simulation.js","original":{"line":152,"column":17},"generated":{"line":1,"column":1973}},{"source":"simulation.js","name":"da","original":{"line":152,"column":22},"generated":{"line":1,"column":1978}},{"source":"simulation.js","name":"inf","original":{"line":153,"column":9},"generated":{"line":1,"column":1981}},{"source":"simulation.js","name":"inf","original":{"line":153,"column":9},"generated":{"line":1,"column":1986}},{"source":"simulation.js","original":{"line":153,"column":16},"generated":{"line":1,"column":1991}},{"source":"simulation.js","name":"da","original":{"line":153,"column":21},"generated":{"line":1,"column":1996}},{"source":"simulation.js","original":{"line":153,"column":26},"generated":{"line":1,"column":1999}},{"source":"simulation.js","name":"db","original":{"line":153,"column":31},"generated":{"line":1,"column":2004}},{"source":"simulation.js","name":"rec","original":{"line":154,"column":9},"generated":{"line":1,"column":2007}},{"source":"simulation.js","name":"rec","original":{"line":154,"column":9},"generated":{"line":1,"column":2012}},{"source":"simulation.js","original":{"line":154,"column":16},"generated":{"line":1,"column":2017}},{"source":"simulation.js","name":"db","original":{"line":154,"column":21},"generated":{"line":1,"column":2022}},{"source":"simulation.js","name":"sim","original":{"line":156,"column":4},"generated":{"line":1,"column":2025}},{"source":"simulation.js","name":"total_inf","original":{"line":156,"column":8},"generated":{"line":1,"column":2027}},{"source":"simulation.js","original":{"line":156,"column":21},"generated":{"line":1,"column":2038}},{"source":"simulation.js","name":"da","original":{"line":156,"column":26},"generated":{"line":1,"column":2043}},{"source":"simulation.js","name":"sim","original":{"line":157,"column":4},"generated":{"line":1,"column":2046}},{"source":"simulation.js","name":"current_inf","original":{"line":157,"column":8},"generated":{"line":1,"column":2048}},{"source":"simulation.js","original":{"line":157,"column":23},"generated":{"line":1,"column":2061}},{"source":"simulation.js","name":"da","original":{"line":157,"column":28},"generated":{"line":1,"column":2066}},{"source":"simulation.js","original":{"line":157,"column":33},"generated":{"line":1,"column":2069}},{"source":"simulation.js","name":"db","original":{"line":157,"column":38},"generated":{"line":1,"column":2074}},{"source":"simulation.js","name":"d3","original":{"line":159,"column":4},"generated":{"line":1,"column":2077}},{"source":"simulation.js","name":"select","original":{"line":159,"column":7},"generated":{"line":1,"column":2080}},{"source":"simulation.js","original":{"line":159,"column":19},"generated":{"line":1,"column":2087}},{"source":"simulation.js","original":{"line":159,"column":19},"generated":{"line":1,"column":2092}},{"source":"simulation.js","original":{"line":159,"column":19},"generated":{"line":1,"column":2099}},{"source":"simulation.js","name":"id","original":{"line":159,"column":24},"generated":{"line":1,"column":2104}},{"source":"simulation.js","name":"style","original":{"line":159,"column":30},"generated":{"line":1,"column":2109}},{"source":"simulation.js","original":{"line":159,"column":36},"generated":{"line":1,"column":2115}},{"source":"simulation.js","original":{"line":159,"column":44},"generated":{"line":1,"column":2122}},{"source":"simulation.js","name":"color","original":{"line":159,"column":49},"generated":{"line":1,"column":2127}},{"source":"simulation.js","original":{"line":159,"column":55},"generated":{"line":1,"column":2133}},{"source":"simulation.js","name":"inf","original":{"line":159,"column":60},"generated":{"line":1,"column":2138}},{"source":"simulation.js","original":{"line":159,"column":66},"generated":{"line":1,"column":2142}},{"source":"simulation.js","name":"pop","original":{"line":159,"column":71},"generated":{"line":1,"column":2147}},{"source":"simulation.js","original":{"line":163,"column":0},"generated":{"line":1,"column":2154}},{"source":"simulation.js","name":"sim","original":{"line":163,"column":6},"generated":{"line":1,"column":2158}},{"source":"simulation.js","original":{"line":163,"column":12},"generated":{"line":1,"column":2160}},{"source":"simulation.js","name":"SirSimulation","original":{"line":163,"column":16},"generated":{"line":1,"column":2164}}],"sources":{"simulation.js":"function SirSimulation() {\n  this.running = false;\n  this.rate = 10;\n\n  this.cs;\n  this.range;\n  this.color;\n  this.idToI;\n\n  this.vacc;\n  this.beta;\n  this.gamma;\n\n  this.interval;\n\n  this.callback;\n  this.current_inf;\n  this.total_inf;\n  this.day = 1;\n\n  this.init = function(counties, beta, gamma, vacc, callback) {\n    this.cs = counties;\n    this.beta = beta / this.rate;\n    this.gamma = gamma / this.rate;\n    this.vacc = vacc;\n    this.callback = callback;\n    this.range = [0, this.max_pop()];\n    this.color = d3.scale\n      .pow()\n      .exponent(0.33)\n      .domain(this.range)\n      .range([\"#ffffff\", \"#08306b\"]);\n    this.init_cs();\n  };\n\n  this.start = function(cid, n) {\n    this.running = true;\n    const c = this.cs[this.idToI.get(cid)];\n    c.inf += n;\n    if (c.sus >= n) {\n      c.sus -= n;\n    } else {\n      c.rec -= n;\n    }\n    this.current_inf = n;\n    this.total_inf = n;\n    this.day = 0;\n    this.interval = setInterval(this.update, 1000 / this.rate, this);\n    this.update(this);\n  };\n\n  this.update = that => {\n    that.callback(that.current_inf, that.total_inf, that.day / that.rate);\n    let c;\n    for (var i = 0; i < that.cs.length; i++) {\n      c = that.cs[i];\n      c.da = 0;\n      c.db = 0;\n    }\n    for (var i = 0; i < that.cs.length; i++) {\n      c = that.cs[i];\n      if (c.inf > 0) {\n        c.step();\n      }\n    }\n    for (var i = 0; i < that.cs.length; i++) {\n      that.cs[i].flush();\n    }\n\n    that.day = that.day + 1;\n  };\n\n  this.max_pop = function() {\n    let max = 0;\n    for (let i = 0; i < this.cs.length; i++) {\n      max = Math.max(this.cs[i].pop, max);\n    }\n    return max;\n  };\n\n  this.total_infected = function() {\n    let total = 0;\n    for (let i = 0; i < this.cs.length; i++) {\n      total += this.cs[i].inf;\n    }\n    return total;\n  };\n\n  this.init_cs = function() {\n    this.idToI = d3.map();\n    let c;\n    for (let i = 0; i < this.cs.length; i++) {\n      c = this.cs[i];\n      this.idToI.set(c.id, i);\n      c.rec = c.pop * sim.vacc;\n      c.sus = c.pop - c.rec;\n      c.inf = 0;\n      c.init();\n    }\n  };\n\n  this.reset = function() {\n    clearInterval(this.interval);\n    this.callback(0, 0, 0);\n    this.running = false;\n  };\n}\n\nfunction County(i, id, pop, coms) {\n  this.i = i;\n  this.id = id;\n  this.pop = pop;\n  this.coms = coms;\n\n  this.color;\n\n  this.sus;\n  this.inf;\n  this.rec;\n\n  this.da;\n  this.db;\n\n  this.init = function() {\n    const c = sim.color(this.pop);\n    const d = d3.rgb(c);\n    d.r = d.b;\n    d.g = d.b;\n    d.b = 0;\n    this.color = d3.scale\n      .pow()\n      .exponent(0.2)\n      .domain([0, 1])\n      .range([c, d.toString()]);\n    d3.select(`#s${this.id}`).style(\"fill\", c);\n  };\n\n  this.step = function() {\n    for (let i = 0; i < this.coms.length; i++) {\n      const com = this.coms[i];\n      const ci = sim.idToI.get(+com.work_id);\n      const c = sim.cs[ci];\n      const n = +com.total;\n      const dx = sim.beta * this.inf * (n / this.pop) * (c.sus / c.pop);\n      c.da += dx;\n    }\n    this.da += sim.beta * this.inf * (this.sus / this.pop);\n    this.db += sim.gamma * this.inf;\n  };\n\n  this.flush = function() {\n    this.sus += -this.da;\n    this.inf += this.da - this.db;\n    this.rec += this.db;\n\n    sim.total_inf += this.da;\n    sim.current_inf += this.da - this.db;\n\n    d3.select(`#s${this.id}`).style(\"fill\", this.color(this.inf / this.pop));\n  };\n}\n\nconst sim = new SirSimulation();\n"},"lineCount":null}},"error":null,"hash":"8737af3ff7004c5112063b361ec2cc86","cacheData":{"env":{}}}